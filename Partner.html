 <!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SewaAstra - All-in-One Partner App</title>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root { --p: #ff6b00; --s: #0f172a; --bg: #f4f7fe; --card: #ffffff; --success: #22c55e; --t: #64748b; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background: var(--bg); color: var(--s); overflow-x: hidden; }

        /* Page Management */
        .page { position: fixed; inset: 0; background: var(--bg); z-index: 100; display: none; flex-direction: column; padding: 20px; overflow-y: auto; padding-bottom: 100px; }
        .active-page { display: flex; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* UI Elements */
        .btn-main { width: 100%; padding: 16px; background: var(--p); color: white; border: none; border-radius: 12px; font-weight: 700; cursor: pointer; margin-top: 10px; font-size: 16px; box-shadow: 0 4px 10px rgba(255, 107, 0, 0.2); }
        .btn-google { width: 100%; padding: 14px; background: white; color: #444; border: 1px solid #ddd; border-radius: 12px; font-weight: 600; cursor: pointer; margin-top: 15px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        input, select { width: 100%; padding: 14px; border: 1.5px solid #eee; border-radius: 10px; margin-bottom: 12px; background: var(--card); font-size: 14px; }

        /* Camera & Upload */
        .upload-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; }
        .upload-box { border: 2px dashed var(--p); padding: 15px; border-radius: 15px; text-align: center; background: #fff; min-height: 110px; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }
        .preview-img { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; display: none; border-radius: 13px; }

        /* MEGA SIGNATURE BOX */
        #sig-wrapper { background: #fff; border: 4px solid #000; border-radius: 15px; height: 450px; width: 100%; touch-action: none; margin: 20px 0; position: relative; }
        #sig-canvas { width: 100%; height: 100%; }

        /* Dashboard Items */
        .app-header { background: var(--card); padding: 15px 20px; display: none; justify-content: space-between; align-items: center; position: fixed; top: 0; width: 100%; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: var(--card); display: none; justify-content: space-around; padding: 12px; border-top: 1px solid #eee; z-index: 1000; }
        .nav-item { color: var(--t); text-align: center; font-size: 11px; flex: 1; }
        .nav-item.active { color: var(--p); font-weight: bold; }
    </style>
</head>
<body>

    <div id="login-page" class="page active-page" style="justify-content:center; text-align:center;">
        <h1 style="font-family:'Montserrat'; font-size:40px; margin-bottom:10px;">Sewa<span style="color:var(--p)">Astra</span></h1>
        <p style="color:var(--t); margin-bottom:30px;">पार्टनर लॉगिन</p>
        <input type="tel" placeholder="मोबाइल नंबर" maxlength="10">
        <button class="btn-main" onclick="changePage('otp-page')">OTP भेजें</button>
        <button class="btn-google" onclick="changePage('reg-page')">
            <img src="https://img.icons8.com/color/24/google-logo.png"/> Google के साथ जुड़ें
        </button>
    </div>

    <div id="otp-page" class="page" style="justify-content:center; text-align:center;">
        <h2>वेरिफिकेशन कोड</h2>
        <input type="number" placeholder="0000"  style="text-align:center; font-size:30px; letter-spacing:15px; margin-top:20px;">
        <button class="btn-main" onclick="changePage('reg-page')">वेरिफाई करें</button>
    </div>

    <div id="reg-page" class="page">
        <h3 style="margin-bottom:20px;">पार्टनर रजिस्ट्रेशन</h3>
        
        <div style="text-align:center; margin-bottom:20px;">
            <div onclick="document.getElementById('c-selfie').click()" style="width:100px; height:100px; border-radius:50%; border:3px solid var(--p); margin:0 auto; overflow:hidden; display:flex; align-items:center; justify-content:center; background:#fff;">
                <i class="fa fa-camera" id="self-ico" style="font-size:30px; color:var(--p)"></i>
                <img id="pre-selfie" style="width:100%; height:100%; object-fit:cover; display:none;">
            </div>
            <p style="font-size:11px; margin-top:5px; color:var(--p);">प्रोफाइल फोटो लें</p>
            <input type="file" id="c-selfie" accept="image/*" capture="user" hidden onchange="pv(this, 'pre-selfie', 'self-ico')">
        </div>

        <input type="text" id="p-name" placeholder="Partner Full Name">

        <input type="text" id="p-name" placeholder="Father's Name
        ">
        
        <input type="text" id="p-name" placeholder="Mobile Number">
        
        
        <input type="text" id="p-name" placeholder="Full Address ">
        <label style="font-size:12px; font-weight:bold; margin-bottom:5px; display:block;">Work Range</label>
        <select id="p-work">
          <option value="">Choose Range</option>
          <option>3 Km</option>
          <option>6 Km</option>
          <option>9 Km</option>
          <option>12 Km</option>
          <option>15 Km</option>
          <option>20 Km</option>
          <option>30 Km</option>
          <option>40 Km</option>
          <option>50 Km</option>
        </select>
        <label style="font-size:12px; font-weight:bold; margin-bottom:5px; display:block;">आप किस काम के एक्सपर्ट हैं?</label>
        <select id="p-work">
            <option value="">काम चुनें (Technician Type)</option>
            <option>AC Mechanic</option>
            <option>Mobile Repair Expert</option>
            <option>Pest Control</option>
            <option>Carpentry</option>
            <option>Laptop Expert</option>
            <option>Electrician</option>
            <option>Smart Tv Expert</option>
            <option>Plumber</option>
            <option>RO Technician</option>
            <option>Washing Machine Repair</option>
            <option>Refrigerator Expert</option>
        </select>
        
        <input type="number" placeholder="बैंक अकाउंट नंबर">
        <input type="text" placeholder="IFSC कोड">

        <p style="font-weight:bold; margin-bottom:10px; font-size:13px;">दस्तावेज (कैमरा फोटो):</p>
        <div class="upload-grid">
            <div class="upload-box" onclick="document.getElementById('c-af').click()">
                <i class="fa fa-id-card"></i><p>Aadhar Front</p>
                <input type="file" id="c-af" accept="image/*" capture="environment" hidden onchange="pv(this, 'p-af')">
                <img id="p-af" class="preview-img">
            </div>
            <div class="upload-box" onclick="document.getElementById('c-ab').click()">
                <i class="fa fa-id-card"></i><p>Aadhar Back</p>
                <input type="file" id="c-ab" accept="image/*" capture="environment" hidden onchange="pv(this, 'p-ab')">
                <img id="p-ab" class="preview-img">
            </div>
                        <div class="upload-box" onclick="document.getElementById('c-ab').click()">
                <i class="fa fa-id-card"></i><p>Pan Card</p>
                <input type="file" id="c-ab" accept="image/*" capture="environment" hidden onchange="pv(this, 'p-ab')">
                <img id="p-ab" class="preview-img">
            </div>
                        <div class="upload-box" onclick="document.getElementById('c-ab').click()">
                <i class="fa fa-id-card"></i><p>Police Verification</p>
                <input type="file" id="c-ab" accept="image/*" capture="environment" hidden onchange="pv(this, 'p-ab')">
                <img id="p-ab" class="preview-img">
            </div>
        </div>

        <div style="background:#fff; padding:15px; border-radius:15px; border:1px solid #ddd; margin:15px 0; font-size:12px;">
            <p>• मैं SewaAstra को हर काम पर <b>15% कमीशन</b> देने के लिए सहमत हूँ।</p>
            <div style="margin-top:10px;">
                <input type="checkbox" id="tc-check" checked> <b>नियम स्वीकार हैं</b>
            </div>
        </div>

        <h4 style="color:var(--p);">डिजिटल हस्ताक्षर:-</h4>
        <div id="sig-wrapper">
            <canvas id="sig-canvas"></canvas>
            <div style="position:absolute; top:10px; left:10px; color:#ddd; pointer-events:none;">साइन यहाँ करें</div>
        </div>
        <button onclick="clearSig()" style="color:red; background:none; border:none; text-decoration:underline; font-size:12px; margin-bottom:20px;">मिटाएं (Clear)</button>

        <button class="btn-main" onclick="finishReg()" style="background:#25d366; height:65px;">
            <i class="fab fa-whatsapp"></i> सबमिट और व्हाट्सएप भेजें
        </button>
    </div>

    <div id="home-page" class="page" style="padding-top:70px;">
        <div style="background:var(--s); color:white; padding:20px; border-radius:20px; margin-bottom:20px;">
            <small>आज की कमाई</small><h1>₹3,250.00</h1>
            <button style="background:white; border:none; padding:5px 12px; border-radius:8px; font-weight:bold; margin-top:10px; font-size:12px;">Withdraw</button>
        </div>
        <h4>ट्रेनिंग गाइड</h4>
        <iframe width="100%" height="200" src="https://www.youtube.com/embed/dQw4w9WgXcQ" style="border-radius:15px; border:none; margin:10px 0;"></iframe>
        <canvas id="earningChart"></canvas>
    </div>

    <header class="app-header" id="main-hdr">
        <div style="font-weight:900; font-size:22px;">Sewa<span style="color:var(--p)">Astra</span></div>
        <div style="background:var(--success); color:white; padding:4px 12px; border-radius:20px; font-size:12px;">Online</div>
    </header>

    <nav class="bottom-nav" id="btm-nav">
        <div class="nav-item active" onclick="changePage('home-page')"><i class="fa fa-home fa-lg"></i><p>Home</p></div>
        <div class="nav-item" onclick="location.reload()"><i class="fa fa-user fa-lg"></i><p>Logout</p></div>
    </nav>

    <script>
        function changePage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
            document.getElementById(id).classList.add('active-page');
            if(id === 'reg-page') setTimeout(initCanvas, 300);
            if(id === 'home-page') initChart();
        }

        function pv(input, target, ico) {
            const r = new FileReader();
            r.onload = e => { 
                const img = document.getElementById(target);
                img.src = e.target.result; img.style.display = 'block';
                if(ico) document.getElementById(ico).style.display = 'none';
            }
            r.readAsDataURL(input.files[0]);
        }

        let canvas, ctx, drawing = false;
        function initCanvas() {
            canvas = document.getElementById('sig-canvas');
            ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;

            const getP = (e) => {
                const rect = canvas.getBoundingClientRect();
                const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
                const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
                return {x, y};
            };
            const start = (e) => { drawing = true; ctx.beginPath(); const p = getP(e); ctx.moveTo(p.x, p.y); e.preventDefault(); };
            const move = (e) => { if(!drawing) return; const p = getP(e); ctx.lineWidth=3; ctx.lineCap='round'; ctx.lineTo(p.x,p.y); ctx.stroke(); e.preventDefault(); };
            
            canvas.addEventListener('touchstart', start); canvas.addEventListener('touchmove', move);
            canvas.addEventListener('touchend', () => drawing = false);
            canvas.addEventListener('mousedown', start); canvas.addEventListener('mousemove', move);
            canvas.addEventListener('mouseup', () => drawing = false);
        }
        function clearSig() { ctx.clearRect(0,0,canvas.width,canvas.height); }

        function finishReg() {
            document.getElementById('main-hdr').style.display = 'flex';
            document.getElementById('btm-nav').style.display = 'flex';
            changePage('home-page');
            window.open("https://wa.me/917869969190?text=SewaAstra-New-Partner-Registration");
        }

        function initChart() {
            const c = document.getElementById('earningChart').getContext('2d');
            new Chart(c, { type: 'line', data: { labels:['M','T','W','T','F','S','S'], datasets:[{label:'Earnings', data:[500,1200,900,1600,1100,2000,3250], borderColor:'#ff6b00'}] } });
        }
    </script>
</body>
</html>